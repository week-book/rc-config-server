# RC Config Server

Автоматизация установки и конфигурации утилит zsh, tmux и vim с помощью Ansible.

---

## Оглавление

* [Описание](#описание)
* [Требования](#требования)
* [Структура проекта](#структура-проекта)
* [Установка](#установка)
* [Настройка](#настройка)
* [Запуск](#запуск)
* [Кастомизация](#кастомизация)

---

## Описание

Этот проект позволяет централизованно скачать и настроить следующие утилиты на целевом сервере:

* **zsh**  — расширенная оболочка пользователя;
* **tmux** — менеджер мультиплексированных терминалов;
* **vim**  — текстовый редактор.

Все конфигурационные файлы (dotfiles) автоматически копируются на сервер и применяются.

## Требования

1. **Контрольная (локальная) машина**:

   * Установлён Ansible (рекомендуемая версия `>= 2.9`).
   * Python 3.
   * SSH-клиент.
2. **Целевой сервер**:

   * Доступ по SSH с правами sudo.
   * Python 3 (для выполнения модулей Ansible).

## Структура проекта

```bash
├── .gitignore           # Файлы и папки, игнорируемые Git
├── .tmux.conf           # Конфигурация для tmux
├── .vimrc               # Конфигурация для vim
├── .zshrc               # Конфигурация для zsh
├── README.md            # Описание проекта
└── install-playbook.yml # Ansible-плейбук для установки и настройки
```

## Установка

1. **Клонируйте репозиторий**:

   ```bash
   git clone https://github.com/week-book/rc-config-server.git
   ```

2. **Перейдите в папку проекта**:

   ```bash
   cd rc-config-server
   ```

## Настройка

### 1. Создание SSH-ключа (при необходимости)

Следуйте инструкции по созданию SSH-ключа и добавлению его в `~/.ssh/authorized_keys` на сервере: [Создать SSH-ключ](https://github.com/week-book/open_wiki/wiki/Create-ssh-key)

### 2. Создание и редактирование `inventory.ini`

Создайте файл `inventory.ini` в корне проекта со следующим примером:

```ini
[servers]
# Пример подключения к серверу
myserver ansible_host=example.com ansible_user=ubuntu ansible_port=22
```

* `myserver` — алиас вашего хоста;
* `ansible_host` — IP-адрес или доменное имя сервера;
* `ansible_user` — имя пользователя для SSH;
* `ansible_port` — порт SSH (по умолчанию 22).

При необходимости вы можете создавать группы серверов и отдельные файлы в каталоге `group_vars` или `host_vars`.

## Запуск

Запустите Ansible-плейбук для установки и настройки утилит:

```bash
ansible-playbook -i inventory.ini install-playbook.yml --ask-become-pass
```

* Флаг `--ask-become-pass` запрашивает пароль sudo, если он нужен.

## Кастомизация

* **Dotfiles** (.zshrc, .vimrc, .tmux.conf) можно изменять локально и пересоздавать из них шаблоны Ansible.
* Для переопределения переменных создайте файлы в директориях `group_vars/` или `host_vars/`.
